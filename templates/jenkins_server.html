{% extends "base.html" %}

{% block topbar %}
<li ><a href="/dockerserver/">Docker Server</a></li>
<li><a href="/supervisorserver/">Supervisor Server</a></li>
<li class="active"><a href="/jenkinsserver/">Jenkins Server</a></li>
<li ><a href="/dirviewer/">Dir Viewer</a></li>
<li ><a href="/actionslog/">Actions Log</a></li>
{% endblock %}

{% block body %}
<div class="page-header">
    <h1>
        <small>controlled by jenkins</small>
    </h1>
</div>

{% for server in server_all_list %}
<h2>
    <small>Server: {{server.ip}} </small>
</h2>
<table class="table">
    <tr class="active">
        <th width="10%">status</th>
        <th width="30%">app</thw>
        <th width="20%">location</th>
        <th width="30%">description</th>
        <th colspan="4" width="10%">operation</th>
    </tr>
    {% for job in server.jobs %}
    <tr>
        <td>
            {% if job.color == 'blue' %}
                <span style="background-color: #E0E0E0">
                 {% elif job.color == 'red' %}
                <span style="background-color: #C0C0C0">
                 {% else %}
                <span>
                    {% endif %}
                    {{job.color|lower}}
                </span>
        </td>
        <td>{{job.name}}</td>
        <td>{{server.ip}}</td>
        <td>{{app.description|lower}}</td>
        <td>
            <button class="btn btn-default btn-xs"
                    onclick="jenkins_job_opt('{{server.ip}}', '{{server.port}}' , '{{job.name}}', 'build')">
                build
            </button>
        </td>
        <td>
            <button class="btn btn-default btn-xs"
                    >
                console output
            </button>
        </td>

    </tr>
    {% endfor %}
</table>
{% endfor %}
{% endblock %}